[gd_scene load_steps=12 format=3 uid="uid://dxkchm2v0ynla"]

[ext_resource type="PackedScene" uid="uid://cjhit7pg3fwuo" path="res://scenes/debug_table.tscn" id="1_cpbqa"]
[ext_resource type="Texture2D" uid="uid://bubooafum5q7l" path="res://textures/grid_texture.png" id="1_yaac5"]
[ext_resource type="PackedScene" uid="uid://1io8uso2bop2" path="res://scenes/rin.tscn" id="2_ady0f"]
[ext_resource type="PackedScene" uid="uid://b542pai5xpeq3" path="res://scenes/camera_pivot.tscn" id="4_xdhai"]
[ext_resource type="Script" path="res://scripts/trajectory_debug_draw.gd" id="5_gaa5p"]

[sub_resource type="Environment" id="Environment_b0k67"]
background_energy_multiplier = 7.75

[sub_resource type="BoxShape3D" id="BoxShape3D_gwaaa"]
size = Vector3(100, 1, 100)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_vcm8j"]
albedo_texture = ExtResource("1_yaac5")
uv1_scale = Vector3(100, 100, 100)

[sub_resource type="BoxMesh" id="BoxMesh_pd4xa"]
material = SubResource("StandardMaterial3D_vcm8j")

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_cgbp0"]
data = PackedVector3Array(-0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, -0.5)

[sub_resource type="MMClampSynchronizer" id="MMClampSynchronizer_kxtfr"]
clamp_distance = 0.0

[node name="main" type="Node3D"]

[node name="DebugTable" parent="." node_paths=PackedStringArray("motion_matcher") instance=ExtResource("1_cpbqa")]
offset_right = -167.0
offset_bottom = -490.0
motion_matcher = NodePath("../Rin")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -0.676876, 0.736097, 0, -0.736097, -0.676876, 0, 0, 0)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_b0k67")

[node name="StaticBody3D" type="StaticBody3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
shape = SubResource("BoxShape3D_gwaaa")

[node name="MeshInstance3D" type="MeshInstance3D" parent="StaticBody3D/CollisionShape3D"]
transform = Transform3D(100, 0, 0, 0, 1, 0, 0, 0, 100, 0, 0, 0)
mesh = SubResource("BoxMesh_pd4xa")
skeleton = NodePath("../..")

[node name="Wall" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.985566, 4.58416)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Wall"]
transform = Transform3D(11.0225, 0, 0, 0, 3.04705, 0, 0, 0, 1, 0, -0.467445, 0)
mesh = SubResource("BoxMesh_pd4xa")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Wall"]
transform = Transform3D(11.0225, 0, 0, 0, 3.04705, 0, 0, 0, 1, 0, -0.467445, 0)
shape = SubResource("ConcavePolygonShape3D_cgbp0")

[node name="Ramp" type="StaticBody3D" parent="."]
transform = Transform3D(0.990983, 3.94138e-10, 0.133986, 0.133986, -5.85672e-09, -0.990983, 3.94138e-10, 1, -5.85672e-09, 11.7576, 0.150306, -0.824014)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Ramp"]
transform = Transform3D(11.0225, 0, 0, 0, 3.04705, 0, 0, 0, 1, 0, -0.467445, 0)
mesh = SubResource("BoxMesh_pd4xa")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Ramp"]
transform = Transform3D(11.0225, 0, 0, 0, 3.04705, 0, 0, 0, 1, 0, -0.467445, 0)
shape = SubResource("ConcavePolygonShape3D_cgbp0")

[node name="Rin" parent="." instance=ExtResource("2_ady0f")]
synchronizer = SubResource("MMClampSynchronizer_kxtfr")

[node name="Skeleton3D" parent="Rin/rin/Armature" index="0"]
bones/0/position = Vector3(0.129963, 0, 0.0355273)
bones/0/rotation = Quaternion(0, 0.911942, 0, 0.410319)
bones/1/rotation = Quaternion(0.478197, 0.518828, 0.461072, 0.538105)
bones/2/rotation = Quaternion(0.677403, 0.735577, 0.00678377, -0.00218327)
bones/3/rotation = Quaternion(-0.00134251, 0.00281955, -0.0182867, 0.999828)
bones/4/rotation = Quaternion(-0.00134251, 0.00281882, -0.0182869, 0.999828)
bones/5/rotation = Quaternion(-0.00106083, 0.00211265, -0.0137159, 0.999903)
bones/6/rotation = Quaternion(-0.753812, -0.0315326, -0.0130199, 0.656205)
bones/7/rotation = Quaternion(-0.862301, -0.103433, 0.0876848, 0.487904)
bones/8/rotation = Quaternion(-0.120382, -0.00813427, -0.394171, 0.911082)
bones/9/rotation = Quaternion(0.00210261, -0.00261865, -0.0267671, 0.999636)
bones/49/rotation = Quaternion(0.00191046, -0.00414369, -0.138382, 0.990368)
bones/50/rotation = Quaternion(0.00230286, -0.0039394, -0.0419292, 0.99911)
bones/51/rotation = Quaternion(0.677856, 0.734585, 0.0285927, 0.00891637)
bones/213/rotation = Quaternion(-0.00588888, 0.676628, 0.735735, -0.0288667)
bones/214/rotation = Quaternion(-0.860615, 0.0667581, -0.146371, 0.483178)
bones/215/rotation = Quaternion(-0.0877294, -0.0129264, 0.450692, 0.888264)
bones/216/rotation = Quaternion(0.00846243, 0.0462203, -0.00894549, 0.998855)
bones/256/rotation = Quaternion(0.954014, -0.299763, 7.39757e-08, -1.16333e-07)
bones/272/rotation = Quaternion(0.0498225, -0.0265959, 0.759554, 0.647987)
bones/273/rotation = Quaternion(0.00712901, 0.0165768, 0.120527, 0.992546)
bones/274/rotation = Quaternion(-0.0602353, 0.175422, -0.615958, 0.765634)
bones/281/rotation = Quaternion(0.755141, -0.653877, 0.0451307, 0.0130335)
bones/282/rotation = Quaternion(-0.00462105, 0.0392285, -0.174953, 0.983784)
bones/283/rotation = Quaternion(-0.117743, 0.0610783, 0.611722, 0.779873)

[node name="PlayerController" parent="Rin" index="4" node_paths=PackedStringArray("camera_pivot")]
camera_pivot = NodePath("../../CameraPivot")

[node name="CameraPivot" parent="." node_paths=PackedStringArray("charater") instance=ExtResource("4_xdhai")]
charater = NodePath("../Rin")

[node name="DebugDrawTrajectory" type="Node" parent="." node_paths=PackedStringArray("character", "controller", "anim_player")]
script = ExtResource("5_gaa5p")
character = NodePath("../Rin/rin/Armature/Skeleton3D")
controller = NodePath("../Rin")
anim_player = NodePath("../Rin/MMAnimationPlayer")

[editable path="Rin"]
[editable path="Rin/rin"]
