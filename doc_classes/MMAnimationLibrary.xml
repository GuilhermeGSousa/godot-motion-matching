<?xml version="1.0" encoding="UTF-8" ?>
<class name="MMAnimationLibrary" inherits="AnimationLibrary" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="https://raw.githubusercontent.com/godotengine/godot/master/doc/class.xsd">
	<brief_description>
		An [AnimationLibrary] used for motion matching.
	</brief_description>
	<description>
		This class is used both to store animations to use for motion matching, and to store the pose database generated from those animations. This pose database is used to find the best matching animation for a given input pose. 
		The pose database is generated by the Motion Matching editor tool, and must be up to date with the animations in this library.
	</description>
	<tutorials>
	</tutorials>
	<members>
		<member name="db_anim_index" type="PackedInt32Array" setter="set_db_anim_index" getter="get_db_anim_index" default="PackedInt32Array()">
			Matches pose indices in the database to their corresponding animation in the library. Generated by the Motion Matching editor tool and should not be modified.
		</member>
		<member name="db_pose_offset" type="PackedInt32Array" setter="set_db_pose_offset" getter="get_db_pose_offset" default="PackedInt32Array()">
			Matches animation indices in the database to their corresponding starting index in [member motion_data]. Generated by the Motion Matching editor tool and should not be modified.
		</member>
		<member name="db_time_index" type="PackedFloat32Array" setter="set_db_time_index" getter="get_db_time_index" default="PackedFloat32Array()">
			Matches pose indices in the database to their corresponding time in the animation. Generated by the Motion Matching editor tool and should not be modified.
		</member>
		<member name="features" type="MMFeature[]" setter="set_features" getter="get_features" default="[]">
			Array of features used to select animation poses in the database.
			Each feature is a [MMFeature] object that defines what to use to select animation poses. The features are used to compute the similarity between the current pose and the poses in the database.
		</member>
		<member name="include_cost_results" type="bool" setter="set_include_cost_results" getter="get_include_cost_results" default="false">
			If true, the cost results will be included in the motion matching results. This is used to debug the motion matching process, and has increased performance cost.
		</member>
		<member name="motion_data" type="PackedFloat32Array" setter="set_motion_data" getter="get_motion_data" default="PackedFloat32Array()">
			Pose database generated by the Motion Matching editor tool from the animations in this library. Corresponds to a N by M matrix, where N is the number of poses in the database and M is the total number of features used to select animation poses.
			Feature values are stored in the same order as the features in the [features] array and may be normalized.
		</member>
		<member name="node_indices" type="PackedInt32Array" setter="set_node_indices" getter="get_node_indices" default="PackedInt32Array()">
			The pose database searches are accelerated using a K-D tree. This array contains the indices of the nodes in the K-D tree. Generated by the Motion Matching editor tool and should not be modified.
		</member>
		<member name="sampling_rate" type="float" setter="set_sampling_rate" getter="get_sampling_rate" default="1.0">
			The sampling rate used to generate the pose database. This rate describes how many samples per second were taken from the animations in this library to generate the pose database.
		</member>
		<member name="schema_hash" type="int" setter="set_schema_hash" getter="get_schema_hash" default="0">
			The hash of the schema used to generate the pose database. This is used to check if the schema has changed since the last time the pose database was generated. Generated by the Motion Matching editor tool and should not be modified.
		</member>
	</members>
</class>
